# Note
日记类记录分享文档，目的有三  
- **定短期计划：**  
目标驱动
- **解惑日记分享：**  
每天想一些很底层逻辑的内容是我的特点，逻辑未清晰之前不喜欢直接开发。
- **愿每天都觉得自己昨天是一个艾斯比：**  
Mark名言 @ZJU_Mark

日常记录模板：  
- Done：  
- Ponder：  
- Todo：  


## 19.3.22  
- Done：  
试图梳理分布式系统（下文统称DS）中共识与区块链系统中共识的含义区分，掌握了分布式系统PAXOS、BFT、PBFT算法流程与PAXOS、PBFT初步实现。
- Ponder：  
很仔细地与lzp交流了Pow、Pos与PAXOS、RAFT甚至PBFT的区别，十分怀疑分布式系统的数据同步机制与区块链系统的共识机制不属于同一层级的模块。理由为:PAXOS、RAFT、PBFT主要通过容错（宕机或响应速度慢）解决数据一致性的问题，而Pow、Pos是针对谁来打包数据（矿工打包与矿工作恶的博弈论）区块链网络所达成的共识。  
而且看到有的blog写道：eos是基于BFT-DPOS实现的区块链系统，由于自己对eos工程非常熟悉，很清楚eos工程里并没有实现bft、pbft算法的文件，所以对这里非常怀疑。  
最后看了一篇文章，发现其实自己傻就傻在这里，拜占庭将军问题是所有分布式系统都会遇到的问题，区块链系统也同理。上述所有的算法都是用来解决BFT问题的。以Pow为例，中本聪用了四招解决了拜占庭将军问题：  
（1）战场上一段时间内只允许一个将军发出消息（**10分钟左右出一个块**）防止各个将军不停说自己的进攻方案（**给予分布式系统数据同步的时间**）  
（2）将军发出消息的时候需要亲自盖章（**私钥加密**），并且为了防止消息泄露将消息内容用其他将军才能读懂的语言书写（**用其他节点的公钥对信息加密**），其他将军收到消息的时候首先验证样章（**公钥解密，验证身份**），然后再解读信息（**私钥解密，看信息**）  
（3）每一个将军在发消息之前都会做一个数独题，先解出数独题的人才能执行（2）中操作，为了证明自己解决了数独题，需要把题的答案和解开题的时间（**时间戳**）以及消息放在一起通过（2）中流程发送出去（**计算量证明**）。  
（4）将军不爱做数独题，累。但是将军之间有过规定，第一个发消息的人可以获得更多战利品（**激励**）。  
除去这些，51%攻击会使得拜占庭人民不信任驻守军队，会导致**拜占庭帝国人口流失、越来越穷**，所以这里也有一个由将军们和帝国之间的博弈达成的共识。  
POS、DPOS就更简单了，都可以翻译成上面的故事。
> https://blog.csdn.net/sureSand/article/details/79311971
- Todo：  ￼
这个我觉得可以先不用管的...当
tendermint￼
这个我觉得可以先不用管的...当越杂，近期有点跑偏，有点太基于分布式系统底层。后续思路是一边做co￼
这个我觉得可以先不用管的...当开发，一边研究底层理论逻辑  
RUST+GO  
跨链底层框架分析  
COSMOS sdk


## 19.3.25
- Done：  
学到了一个新的名词：bootstrap。这个名词之前了解是web框架中js/css的一个封装库，今天理解的意思是“自举”。  
今天思考了一个问题，golang的github库里面编译模块没有.c文件，就很好奇鸡生蛋的问题，golang的编译器到底是怎么用go语言实现的？  
查了资料了解到go语言原来使用c语言实现的编译器（编译器功能是将go语言翻译成字节码），同时采集大量的测试用例X，随后go语言工程师用go实现了和c语言编译器（功能也是翻译成字节码），然后用测试用例X对拍，发现没有问题，那么go语言就实现了bootstrap。翻译成编译原理就是go实现了自己的编译器可以编译自己的编译器。
- Ponder：  
- Todo：  


## 19.5.6

- Done：  
- Ponder：  
思考了一些公链底层的实现问题。在eth代码架构的学习中，有对于块的介绍，树的存储等等。但是db与其关系并不理解，后来了解到底层的leveldb的存储实现了树的结构，状态树等按照表的形式存在底层数据库中，每个区块的交易详情（默克尔树的每一个叶子节点与父节点、根节点）都会存在数据库中。  
当做区块同步的时候，底层db将区块的交易详情拉出来，然后顺序执行。

- Todo：  
blockstack文件系统的实现过程

## 19.5.8

- Done：  
- Ponder：  

当区块链存在大型文件需要做链上传输与验证的时候，如何在保证效率的情况下完成文件上链。文件系统如何做到去中心化？

- Todo：  
商业计划书+技术路线+项目前景分析

